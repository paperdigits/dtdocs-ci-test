<!doctype html>
<html lang="en-us">
    <head>
      <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>darktable 3.5 (dev) user manual - color calibration</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">








      <link rel="stylesheet" href="/dtdocs/css/style.min.eb59ddacdf5b58587c1943cd25b860607f88a672b22a5fab6a4f032bb05af3b7.css">
      

<script src="/dtdocs/js/jquery.js"></script>
<script src="/dtdocs/js/popper.js" type="module"></script>
<script src="/dtdocs/js/bootstrap.js"></script>
<script src="/dtdocs/js/lunr.js"></script>
<script src="/dtdocs/js/app.js"></script>


    </head>
    <body>
        

        <header class="navbar navbar-expand-lg sticky-top  navbar-dark bg-dark">
   <a class="navbar-brand" href="/dtdocs" rel="home" title="darktable 3.5 (dev) user manual">
	darktable 3.5 (dev) user manual
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
           <form class="form-inline my-2 my-lg-0">
                <input id="search-input" class="form-control mr-sm-2" type="search" placeholder="Search" autocomplete="off" aria-label="Search">
           </form>
        </ul>
    </div>
</header>

<div id="search-results" class="search-results">
</div>



        <div class="container-fluid">
	    <div class="row">
		<nav class="navigation col-sm-12 order-sm-12 col-md-3 order-md-1">
		    <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/overview/" class="">
          Overview
      </a>

   <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/overview/user-interface/" class="">
          user interface
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/user-interface/views/" class="">
          views
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/user-interface/screen-layout/" class="">
          screen layout
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/user-interface/filmstrip/" class="">
          filmstrip
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/user-interface/top-panel/" class="">
          top panel
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/user-interface/keyboard-shortcuts/" class="">
          keyboard shortcuts
      </a>

   </li>
   </ul>
   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/supported-file-formats/" class="">
          supported file formats
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/overview/sidecar-files/" class="">
          sidecar files &amp; non-destructive editing
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/sidecar-files/sidecar/" class="">
          sidecar files
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/sidecar-files/sidecar-import/" class="">
          importing sidecar files generated by other applications
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/sidecar-files/local-copies/" class="">
          local copies
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/overview/workflow/" class="">
          basic workflow
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/workflow/import-rate-tag/" class="">
          import, rate &amp; tag images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/workflow/edit-overview/" class="">
          editing an image: workflow overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/workflow/edit-scene-referred/" class="">
          editing an image: scene-referred workflow
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/workflow/edit-display-referred/" class="">
          editing an image: display-referred workflow
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/overview/workflow/export-metadata-upload/" class="">
          exporting and uploading images with metadata
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/lighttable/" class="">
          Lighttable
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/lighttable-view-layout/" class="">
          lighttable view layout
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/undo-redo/" class="">
          undo/redo
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/lighttable/lighttable-modes/" class="">
          lighttable modes
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/lighttable-modes/filemanager/" class="">
          filemanager
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/lighttable-modes/zoomable-lighttable/" class="">
          zoomable lighttable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/lighttable-modes/culling/" class="">
          culling
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/lighttable-modes/full-preview/" class="">
          full preview
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/" class="">
          digital asset management
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/film-rolls/" class="">
          film rolls
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/collections/" class="">
          collections
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/thumbnails/" class="">
          thumbnails
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/star-color/" class="">
          star ratings &amp; color labels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/grouping/" class="">
          image grouping
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lighttable/digital-asset-management/metadata-tagging/" class="">
          metadata and tagging
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/darkroom/" class="">
          Darkroom
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/darkroom-view-layout/" class="">
          darkroom view layout
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/darkroom/pixelpipe/" class="">
          the pixelpipe
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/pixelpipe/the-anatomy-of-a-module/" class="">
          the anatomy of a processing module
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/pixelpipe/the-pixelpipe-and-module-order/" class="">
          the pixelpipe &amp; module order
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/pixelpipe/history-stack/" class="">
          the history stack
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/pixelpipe/undo-redo/" class="">
          undo and redo
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/" class="">
          processing modules
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/module-header/" class="">
          module header
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/multiple-instances/" class="">
          multiple instances
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/presets/" class="">
          presets
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/module-controls/" class="">
          module controls
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/curves/" class="">
          curves
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/processing-modules/wavelets/" class="">
          wavelets
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/" class="">
          masking &amp; blending
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/blend-modes/" class="">
          blend modes
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/" class="">
          masks
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/drawn/" class="">
          drawn masks
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/parametric/" class="">
          parametric masks
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/drawn-and-parametric/" class="">
          combining drawn &amp; parametric masks
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/refinement-controls/" class="">
          mask refinement &amp; additional controls
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/masking-and-blending/masks/raster/" class="">
          raster masks
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/darkroom/organization/" class="">
          organization
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/organization/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/organization/module-groups/" class="">
          module groups
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/organization/quick-access-panel/" class="">
          quick access panel
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/darkroom/organization/manage-module-layouts/" class="">
          manage module layouts
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/tethering/" class="">
          Tethering
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/tethering/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/tethering/tethering-view-layout/" class="">
          tethering view layout
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/tethering/examples/" class="">
          examples
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/tethering/troubleshooting/" class="">
          troubleshooting
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/map/" class="">
          Map
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/map/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/map/map-view-layout/" class="">
          map view layout
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/slideshow/" class="">
          Slideshow
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/slideshow/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/slideshow/usage/" class="">
          usage
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/print/" class="">
          Print
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/print/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/print/print-view-layout/" class="">
          print view layout
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/" class="">
          Module Reference
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/overview/" class="">
          overview
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/" class="">
          processing modules
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/astrophoto-denoise/" class="">
          astrophoto denoise
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/base-curve/" class="">
          base curve
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/basic-adjustments/" class="">
          basic adjustments (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/bloom/" class="">
          bloom
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/censorize/" class="">
          censorize
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/channel-mixer/" class="">
          channel mixer (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/chromatic-aberrations/" class="">
          chromatic aberrations
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-balance/" class="">
          color balance
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-calibration/" class=" active">
          color calibration
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-contrast/" class="">
          color contrast
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-correction/" class="">
          color correction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-look-up-table/" class="">
          color look up table
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-mapping/" class="">
          color mapping
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-reconstruction/" class="">
          color reconstruction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/color-zones/" class="">
          color zones
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/colorize/" class="">
          colorize
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/contrast-brightness-saturation/" class="">
          contrast brightness saturation
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/contrast-equalizer/" class="">
          contrast equalizer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/crop-rotate/" class="">
          crop &amp; rotate
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/defringe/" class="">
          defringe
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/demosaic/" class="">
          demosaic
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/denoise-profiled/" class="">
          denoise (profiled)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/dithering/" class="">
          dithering
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/exposure/" class="">
          exposure
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/fill-light/" class="">
          fill light (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/filmic-rgb/" class="">
          filmic rgb
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/framing/" class="">
          framing
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/global-tonemap/" class="">
          global tonemap (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/graduated-density/" class="">
          graduated density
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/grain/" class="">
          grain
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/haze-removal/" class="">
          haze removal
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/highlight-reconstruction/" class="">
          highlight reconstruction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/highpass/" class="">
          highpass
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/hot-pixels/" class="">
          hot pixels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/input-color-profile/" class="">
          input color profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/invert/" class="">
          invert (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/lens-correction/" class="">
          lens correction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/levels/" class="">
          levels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/liquify/" class="">
          liquify
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/local-contrast/" class="">
          local contrast
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/lowlight-vision/" class="">
          lowlight vision
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/lowpass/" class="">
          lowpass
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/lut-3d/" class="">
          lut 3D
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/monochrome/" class="">
          monochrome
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/negadoctor/" class="">
          negadoctor
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/orientation/" class="">
          orientation
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/output-color-profile/" class="">
          output color profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/perspective-correction/" class="">
          perspective correction
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/raw-black-white-point/" class="">
          raw black/white point
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/raw-denoise/" class="">
          raw denoise
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/retouch/" class="">
          retouch
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/rgb-curve/" class="">
          rgb curve
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/rgb-levels/" class="">
          rgb levels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/rotate-pixels/" class="">
          rotate pixels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/scale-pixels/" class="">
          scale pixels
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/shadows-and-highlights/" class="">
          shadows and highlights
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/sharpen/" class="">
          sharpen
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/soften/" class="">
          soften
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/split-toning/" class="">
          split-toning
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/spot-removal/" class="">
          spot removal
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/surface-blur/" class="">
          surface blur
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/tone-curve/" class="">
          tone curve
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/tone-equalizer/" class="">
          tone equalizer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/tone-mapping/" class="">
          tone mapping (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/unbreak-input-profile/" class="">
          unbreak input profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/velvia/" class="">
          velvia
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/vibrance/" class="">
          vibrance (deprecated)
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/vibrance-rgb/" class="">
          vibrance rgb
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/vignetting/" class="">
          vignetting
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/watermark/" class="">
          watermark
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/white-balance/" class="">
          white balance
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/processing-modules/zone-system/" class="">
          zone system (deprecated)
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/" class="">
          utility modules
      </a>

   <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/" class="">
          darkroom
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/clipping/" class="">
          clipping warning
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/color-assessment/" class="">
          color assessment
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/duplicate-manager/" class="">
          duplicate manager
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/gamut/" class="">
          gamut check
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/global-color-picker/" class="">
          global color picker
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/history-stack/" class="">
          history stack
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/image-info-line/" class="">
          image information line
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/mask-manager/" class="">
          mask manager
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/module-order/" class="">
          module order
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/navigation/" class="">
          navigation
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/raw-overexposed/" class="">
          raw overexposed warning
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/snapshots/" class="">
          snapshots
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/darkroom/soft-proof/" class="">
          soft proof
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/" class="">
          lighttable
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/history-stack/" class="">
          history stack
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/import/" class="">
          import
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/lua-scripts-installer/" class="">
          lua scripts installer
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/select/" class="">
          select
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/selected-image/" class="">
          selected images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/styles/" class="">
          styles
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/lighttable/timeline/" class="">
          timeline
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/map/" class="">
          map
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/map/find-location/" class="">
          find location
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/map/locations/" class="">
          locations
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/map/map-settings/" class="">
          map settings
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/print/" class="">
          print
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/print/print-settings/" class="">
          print settings
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/" class="">
          shared
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/collect-images/" class="">
          collect images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/export/" class="">
          export
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/filmstrip/" class="">
          filmstrip
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/focus-peaking/" class="">
          focus peaking
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/geotagging/" class="">
          geotagging
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/histogram/" class="">
          histogram
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/image-information/" class="">
          image information
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/metadata-editor/" class="">
          metadata editor
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/recent-collections/" class="">
          recently used collections
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/shared/tagging/" class="">
          tagging
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/tethering/" class="">
          tethering
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/tethering/camera-settings/" class="">
          camera settings
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/tethering/live-view/" class="">
          live view
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/module-reference/utility-modules/tethering/session/" class="">
          session
      </a>

   </li>
   </ul>
   </li>
   </ul>
   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/preferences-settings/" class="">
          Preferences &amp; Settings
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/general/" class="">
          general
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/import/" class="">
          import
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/lighttable/" class="">
          lighttable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/darkroom/" class="">
          darkroom
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/other-views/" class="">
          other views
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/processing/" class="">
          processing
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/security/" class="">
          security
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/cpu-gpu-memory/" class="">
          cpu/gpu/memory
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/storage/" class="">
          storage
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/miscellaneous/" class="">
          miscellaneous
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/shortcuts/" class="">
          shortcuts
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/presets/" class="">
          presets
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/preferences-settings/lua-options/" class="">
          lua options
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/lua/" class="">
          Scripting with Lua
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/basic-principles/" class="">
          basic principles: luarc files
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/a-simple-example/" class="">
          a simple lua example
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/printing-labeled-images/" class="">
          printing labeled images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/simple-shortcut/" class="">
          adding a simple shortcut
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/exporting-images/" class="">
          exporting images with lua
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/building-ui-elements/" class="">
          building user interface elements
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/sharing-scripts/" class="">
          sharing scripts
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/calling-from-dbus/" class="">
          calling lua from dbus
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/darktable-from-lua/" class="">
          using darktable from a lua script
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/lua/api/" class="">
          lua API
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/guides-tutorials/" class="">
          Guides &amp; Tutorials
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/guides-tutorials/monochrome/" class="">
          developing monochrome images
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/guides-tutorials/other-resources/" class="">
          other resources
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/special-topics/" class="">
          Special Topics
      </a>

   <ul>
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/" class="">
          color management
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/display-profile/" class="">
          display profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/rendering-method/" class="">
          rendering method
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/rendering-intent/" class="">
          rendering intent
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/color-spaces/" class="">
          darktable&#39;s color spaces
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/unbounded-colors/" class="">
          unbounded colors
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-management/color-artifacts/" class="">
          possible color artifacts
      </a>

   </li>
   </ul>
   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/memory/" class="">
          memory
      </a>

   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/" class="">
          opencl
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/background/" class="">
          the background
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/how-opencl-works/" class="">
          how opencl works
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/activate-opencl/" class="">
          activating opencl in darktable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/setting-up/" class="">
          setting up opencl
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/problems-solutions/" class="">
          possible problems &amp; solutions
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/amd-ati/" class="">
          amd/ati devices
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/performance/" class="">
          performance optimization
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/scheduling-profile/" class="">
          scheduling profile
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/multiple-devices/" class="">
          multiple devices
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/opencl/still-doesnt-work/" class="">
          opencl still does not run for me
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/" class="">
          using darktable-chart
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/overview/" class="">
          overview
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/usage/" class="">
          usage
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/source-image/" class="">
          source image
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/reference-values/" class="">
          reference values
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/process/" class="">
          process
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/darktable-chart/making-input-images/" class="">
          making input images for darktable-chart
      </a>

   </li>
   </ul>
   </li>
   
   <li class="parent">
      <i class="fa fa-plus-square toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/" class="">
          program invocation
      </a>

   <ul>
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/darktable/" class="">
          darktable
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/darktable-cli/" class="">
          darktable-cli
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/darktable-generate-cache/" class="">
          darktable-generate-cache
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/darktable-chart/" class="">
          darktable-chart
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/darktable-cltest/" class="">
          darktable-cltest
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/program-invocation/darktable-cmstest/" class="">
          darktable-cmstest
      </a>

   </li>
   </ul>
   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/variables/" class="">
          variables
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/module-order/" class="">
          default module order
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/color-pipeline/" class="">
          darktable&#39;s color pipeline
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/contributing/" class="">
          contributing to dtdocs
      </a>

   </li>
   
   <li>
      <i class="no-toggle"></i>
   

      <a href="/dtdocs/special-topics/translating/" class="">
          translating dtdocs
      </a>

   </li>
   </ul>
   </li>
   </ul>

		</nav>
		<div class="content col-sm-12 order-sm-1 col-md-9 mx-md-auto order-md-12">
		    



<div class="crumbs">
    <span class="crumb">
	


<a href='/dtdocs/'>darktable</a> / <a href='/dtdocs/module-reference/'>Module Reference</a> / <a href='/dtdocs/module-reference/processing-modules/'>processing modules</a> / color calibration
    </span>
</div>
    
<div class="prev-next row">
    <div class="col-6">
    
	<a href="/dtdocs/module-reference/processing-modules/color-balance/" class="next">&lt; color balance</a>
	
    </div>
    <div class="col-6">
    
	<a href="/dtdocs/module-reference/processing-modules/color-contrast/" class="prev">color contrast &gt;</a>
	
    </div>
</div>


<article role="main">

    <h1 class="title">
        color calibration
    </h1>

    <p>A fully-featured color-space correction, white balance adjustment and channel mixer. This simple yet powerful module can be used in the following ways:</p>
<ul>
<li>
<p>To adjust the white balance (<a href="#white-balance-in-the-chromatic-adaptation-transformation-cat-tab">chromatic adaptation</a>), working in tandem with the <a href="/dtdocs/module-reference/processing-modules/white-balance/"><em>white balance</em></a> module. In this case, the <em>white balance</em> module performs an initial white balance step (which is still required in order for the <a href="/dtdocs/module-reference/processing-modules/demosaic/"><em>demosaic</em></a> module to work effectively). The <em>color calibration</em> module then calculates a more perceptually-accurate white balance after the input color profile has been applied.</p>
</li>
<li>
<p>As a simple RGB <a href="#channel-mixing">channel mixer</a>, adjusting the output R, G and B channels based on the R, G and B input channels, to perform cross-talk color-grading.</p>
</li>
<li>
<p>To adjust the <a href="#brightness-and-colorfulness-tabs">color saturation and brightness</a> of the pixels, based on the relative strength of the R, G and B channels of each pixel.</p>
</li>
<li>
<p>To produce a <a href="#gray-tab">grayscale output</a> based on the relative strengths of the R, G and B channels, in a way similar to the response of black and white film to a light spectrum.</p>
</li>
<li>
<p>To improve the color accuracy of the input color profiles using a <a href="#extracting-settings-using-a-color-checker">color checker</a> chart.</p>
</li>
</ul>
<h1 id="white-balance-in-the-chromatic-adaptation-transformation-cat-tab"><a href="#white-balance-in-the-chromatic-adaptation-transformation-cat-tab">🔗</a>White Balance in the Chromatic Adaptation Transformation (CAT) tab</h1>
<p>Chromatic adaptation aims to predict how all surfaces in the scene would look if they had been lit by another illuminant. What we actually want to predict, though, is how those surfaces would have looked if they had been lit by the same illuminant as your monitor, in order to make all colors in the scene match the change of illuminant. White balance, on the other hand, aims only at ensuring that whites and grays are really neutral (R = G = B) and doesn’t really care about the rest of the color range. White balance is therefore only a partial chromatic adaptation.</p>
<p>Chromatic adaptation is controlled within the Chromatic Adaptation Transformation (CAT) tab of the <em>color calibration</em> module. When used in this way the <em>white balance</em> module is still required as it needs to perform a basic white balance operation (connected to the input color profile values). This technical white balancing (&ldquo;camera reference&rdquo; mode) is a flat setting that makes grays lit by a standard D65 illuminant look achromatic, and makes the demosaicing process more accurate, but does not perform any perceptual adaptation according to the scene. The actual chromatic adaptation is then performed by the <em>color calibration</em> module, on top of those corrections performed by the <em>white balance</em> and <em>input color profile</em> modules. The use of custom matrices in the <em>input color profile</em> module is therefore discouraged. Additionally, the RGB coefficients in the <em>white balance</em> module need to be accurate in order for this module to work in a predictable way.</p>
<p>The <em>color calibration</em> and <em>white balance</em> modules can be automatically applied to perform chromatic adaptation for new edits by setting the chromatic adaptation workflow option (<a href="/dtdocs/preferences-settings/processing/">preferences &gt; processing &gt; auto-apply chromatic adaptation defaults</a>) to &ldquo;modern&rdquo;. If you prefer to perform all white balancing within the <em>white balance</em> module, a &ldquo;legacy&rdquo; option is also available. Neither option precludes the use of other modules such as <a href="/dtdocs/module-reference/processing-modules/color-balance/"><em>color balance</em></a> further down the pixel pipeline for creative color grading.</p>
<p>By default, <em>color calibration</em> performs chromatic adaptation by:</p>
<ul>
<li>reading the RAW file&rsquo;s Exif data to fetch the scene white balance set by the camera,</li>
<li>adjusting this setting using the camera reference white balance from the <em>white balance</em> module,</li>
<li>further adjusting this setting with the input color profile in use (standard matrix only).</li>
</ul>
<p>For consistency, the <em>color calibration</em> module&rsquo;s default settings always assume that the standard matrix is used in the <em>input color profile</em> module &ndash; any non-standard settings in this module are ignored. However, <em>color calibration</em>&rsquo;s defaults can read any auto-applied preset in the <em>white balance</em> module.</p>
<p>It is also worth noting that, unlike the <em>white balance</em> module, <em>color calibration</em> can be used with <a href="/dtdocs/darkroom/masking-and-blending/masks/">masks</a>. This means that you can selectively correct different parts of the image to account for differing light sources.</p>
<p>To achieve this, create an instance of the <em>color calibration</em> module to perform global adjustments using a mask to exclude those parts of the image that you wish to handle differently. Then create a second instance of the module reusing the mask from the first instance (inverted) using a <a href="/dtdocs/darkroom/masking-and-blending/masks/raster/">raster mask</a>.</p>
<h2 id="cat-tab-workflow"><a href="#cat-tab-workflow">🔗</a>CAT tab workflow</h2>
<p>The default illuminant and color space used by the chromatic adaptation are initialised from the Exif metadata of the RAW file. There are 4 options available in the CAT tab to set these parameters manually:</p>
<ul>
<li>
<p>Use the color-picker (to the right of the color patch) to select a neutral color from the image or, if one is unavailable, select the entire image. In this case, the algorithm finds the average color within the chosen area and sets that color as the illuminant. This method relies on the &ldquo;gray-world&rdquo; assumption, which predicts that the average color of a natural scene will be neutral. This method does not work for artificial scenes, for example those with painted surfaces.</p>
</li>
<li>
<p>Select <em>(AI) detect from edges</em>, which uses a machine-learning technique to detect the illuminant using the entire image. This algorithm finds the average gradient color over the edges found in the image and sets that color as the illuminant. This method relies on the &ldquo;gray-edge&rdquo; assumption, which may fail if large chromatic aberrations are present. As with any edge-detection method, it is sensitive to noise and poorly suited to high-ISO images, but it is very well suited for artificial scenes where no neutral colors are available.</p>
</li>
<li>
<p>Select <em>(AI) detect from surfaces</em>, which combines the two previous methods also using the entire image. This algorithm finds the average color within the image, giving greater weight to areas where sharp details are found and colors are strongly correlated. This makes it more immune to noise than the <em>edge</em> variant and more immune to legitimate non-neutral surfaces than the naïve average, but sharp colored textures (like green grass) are likely to make it fail.</p>
</li>
<li>
<p>Select <em>as shot in camera</em> to restore the camera defaults and re-read the RAW Exif.</p>
</li>
</ul>
<p>The color patch shows the color of the currently calculated illuminant projected into sRGB space. The aim of the chromatic adaptation algorithm is to turn this color into pure white, which does not necessarily means shifting the image toward its <em>perceptual</em> opponent color. If the illuminant is properly set, the image will be given the same tint as shown in the color patch when the module is disabled.</p>
<p>To the left of the color patch is the <em>CCT</em> (correlated color temperature) approximation. This is the closest temperature, in kelvin, to the illuminant currently in use. In most image processing software it is customary to set the white balance using a combination of temperature and tint. However, when the illuminant is far from daylight, the CCT becomes inaccurate and irrelevant, and the CIE (International Commission on Illumination) discourages its use in such conditions. The CCT reading informs you of the closest CCT match found:</p>
<ul>
<li>When the CCT is followed by <em>(daylight)</em>, this means that the current illuminant is close to an ideal daylight spectrum ± 0.5 %, and the CCT figure is therefore meaningful. In this case, you are advised to use the <em>D (daylight)</em> illuminant.</li>
<li>When the CCT is followed by <em>(black  body)</em>, this means that the current illuminant is close to an ideal black body (Planckian) spectrum ± 0.5 %, and the CCT figure is therfore meaningful. In this case, you are advised to use the <em>Planckian (black body)</em> illuminant.</li>
<li>When the CCT is followed by <em>(invalid)</em>, this means that the CCT figure is meaningless and wrong, because we are too far from either a daylight or a black body light spectrum. In this case, you are advised to use the <em>custom</em> illuminant. The chromatic adaptation will still perform as expected (see the note below), so the <em>(invalid)</em> tag only means that the current illuminant color is not accurately tied to the displayed CCT. This tag is nothing to be concerned about &ndash; it is merely there to tell you to stay away from the daylight and planckian illuminants because they will not behave as you might expect.</li>
</ul>
<p>When one of the above illuminant detection methods is used, the program checks where the calculated illuminant sits using the 2 idealized spectra (daylight and black body) and chooses the most accurate spectrum model to use in the <em>illuminant</em> parameter. The user-interface will change accordingly:</p>
<ul>
<li>A temperature slider will be provided if the detected illuminant is close to a <em>D (daylight)</em> or <em>Planckian (black body)</em>, for which the CCT is meaningful.</li>
<li>Hue and chroma sliders in CIE 1976 Luv space are offered for the <em>custom</em> illuminant, which allows direct selection of the illuminant color in a perceptual framework without any intermediate assumption.</li>
</ul>
<hr>
<p><strong>Note:</strong> Internally, the illuminant is represented by its absolute chromaticity coordinates in CIE xyY color space. The illuminant selection options in the module are merely interfaces to set up this chromaticity from real-world relationships and are intended to make this process faster. It does not matter to the actual algorithm if the CCT is tagged &ldquo;invalid&rdquo; &ndash; this just means that the relationship between the CCT and the corresponding xyY coordinates is not physically accurate. Regardless, the color set for the illuminant, as displayed in the patch, will always be honored by the algorithm.</p>
<hr>
<p>When switching from one illuminant to another, the module attempts to translate the previous settings to the new illumninant as accurately as possible. Switching from any illuminant to <em>custom</em> preserves your settings entirely, since the <em>custom</em> illuminant is a general case. Switching between other modes, or from <em>custom</em> to any other mode, will not precisely preserve your settings from the previous mode due to rounding errors.</p>
<p>Other hard-coded <em>illuminants</em> are available (see below). Their values come from standard CIE illuminants and are absolute. You can use them directly if you know exactly what kind of light bulb was used to illuminate the scene and if you trust your camera&rsquo;s input profile and reference (D65) coefficients to be accurate (otherwise, see <em>caveats</em> below).</p>
<h2 id="cat-tab-controls"><a href="#cat-tab-controls">🔗</a>CAT tab controls</h2>
<dl>
<dt>adaptation</dt>
<dd>The working color space in which the module will perform its chromatic adaptation transform and channel mixing. The following options are provided:</dd>
<dd>
<ul>
<li><em>Linear Bradford (1985)</em>: This is accurate for illuminants close to daylight and is compatible with the ICC v4 standard, but produces out-of-gamut colors for more difficult illuminants.</li>
</ul>
</dd>
<dd><ul>
<li><em>CAT16 (2016)</em>: This is the default option and is more robust in avoiding imaginary colors while working with large gamut or saturated cyan and purple. It is more accurate than the Bradform CAT in most cases.</li>
</ul>
</dd>
<dd><ul>
<li><em>Non-linear Bradford (1985)</em>: This can produce better results than the linear version but is unreliable.</li>
</ul>
</dd>
<dd><ul>
<li><em>XYZ</em>: This is the least accurate method and is generally not recommended except for testing and debugging purposes.</li>
</ul>
</dd>
<dd><ul>
<li><em>none (disable)</em>: Disable any adaptation and use the pipeline working RGB space.</li>
</ul>
</dd>
<dt>illuminant</dt>
<dd>The type of illuminant assumed to have lit the scene. Choose from the following:</dd>
<dd>
<ul>
<li><em>same as pipeline (D50)</em>: Do not perform chromatic adaptation in this module instance but perform channel mixing using the selected <em>adaptation</em> color space.</li>
</ul>
</dd>
<dd><ul>
<li><em>CIE standard illuminant</em>: Choose from one of the CIE standard illuminants (daylight, incandescent, fluorescent, equi-energy, or black body), or a non-standard &ldquo;LED light&rdquo; illuminant. These values are all pre-computed &ndash; as long as your camera sensor is properly profiled, you can just use them as-is. For illuminants that lie near the Planckian locus, an additional &ldquo;temperature&rdquo; control is also provided (see below).</li>
</ul>
</dd>
<dd><ul>
<li><em>custom</em>: If a neutral gray patch is available in the image, the color of the illuminant can be selected using the color picker, or can be manually specified using hue and saturation sliders (in LCh perceptual color space). The color swatch next to the color picker shows the color of the calculated illuminant used in the CAT compensation. The color picker can also be used to restrict the area used for AI detection (below).</li>
</ul>
</dd>
<dd><ul>
<li><em>(AI) detect from image surfaces</em>: This algorithm obtains the average color of image patches that have a high covariance between chroma channels in YUV space and a high intra-channel variance. In other words, it looks for parts of the image that appear as though they should be gray, and discards flat colored surfaces that may be legitimately non-gray. It also discards chroma noise as well as chromatic aberrations.</li>
</ul>
</dd>
<dd><ul>
<li><em>(AI) detect from image edges</em>: Unlike the <em>white balance</em> module&rsquo;s auto-white-balancing which relies on the &ldquo;gray world&rdquo; assumption, this method auto-detects a suitable illuminant using the &ldquo;gray edge&rdquo; assumption, by calculating the Minkowski p-norm (p = 8) of the laplacian and trying to minimize it. That is to say, it assumes that edges should have the same gradient over all channels (gray edges). It is more sensitive to noise than the previous surface-based detection method.</li>
</ul>
</dd>
<dd><ul>
<li><em>as shot in camera</em>: Calculate the illuminant based on the white balance settings provided by the camera.</li>
</ul>
</dd>
<dt>temperature</dt>
<dd>Adjust the color temperature of the illuminant. Move the slider to the right to assume a more blue illuminant, which will make the white-balanced image appear warmer/more red. Move the slider to the left to assume a more red illuminant, which makes the image appear cooler/more blue after compensation.</dd>
<dd>
<p>This control is only provided for illuminants that lie near the Planckian locus and provides fine-adjustment along that locus. For other illuminants the concept of &ldquo;color temperature&rdquo; doesn&rsquo;t make sense, so no temperature slider is provided.</p>
</dd>
<dt>hue</dt>
<dd>For custom white balance, set the <em>hue</em> of the illuminant color in LCh color space, derived from CIE Luv space.</dd>
<dt>chroma</dt>
<dd>For custom white balance, set the <em>chroma</em> (or saturation) of the illuminant color in LCh color space, derived from CIE Luv space.</dd>
<dt>gamut compression</dt>
<dd>Most camera sensors are slightly sensitive to invisible UV wavelengths, which are recorded on the blue channel and produce &ldquo;imaginary&rdquo; colors. Once corrected by the input color profile, these colors will end up out of gamut (that is, it may no longer be possible to represent certain colors as a valid [R,G,B] triplet with positive values in the working color space) and produce visual artifacts in gradients. The chromatic adaptation may also push other valid colors out of gamut, at the same time pushing any already out-of-gamut colors even further out of gamut. <em>Gamut compression</em> uses a perceptual, non-destructive, method to attempt to compress the saturation while preserving the luminance as-is and the hue as close as possible, in order to fit the whole image into the gamut of the pipeline working color space. One example where this feature is very useful is for scenes containing blue LED lights, which are often quite problematic and can result in ugly gamut clipping in the final image.</dd>
<dt>clip negative RGB from gamut</dt>
<dd>Remove any negative RGB values (set them to zero). This helps to deal with bad black level as well as the blue channel clipping issues that may occur with blue LED lights.</dd>
</dl>
<h2 id="cat-warnings"><a href="#cat-warnings">🔗</a>CAT warnings</h2>
<p>The chromatic adaptation in this module relies on a number of assumptions about the earlier processing steps in the pipeline in order to work correctly, and it can be easy to inadvertently break these assumptions in subtle ways. To help you to avoid these kind of mistakes, the <em>color calibration</em> module will show warnings in the following circumstances.</p>
<ul>
<li>
<p>If the <em>color calibration</em> module is set up to perform chromatic adaptation but the <em>white balance</em> module is not set to &ldquo;camera reference&rdquo;, warnings will be shown in both modules. These errors can be resolved either by setting the <em>white balance</em> module to &ldquo;camera reference&rdquo; or by disabling chromatic adaptation in the <em>color calibration</em> module. Note that some sensors may require minor corrections within the <em>white balance</em> module in which case these warnings can be ignored.</p>
</li>
<li>
<p>If two or more instances of <em>color calibration</em> have been created, each attempting to perform chromatic adaptation, an error will be shown on the second instance. This could be a valid use case (for instance where masks have been set up to apply different white balances to different non-overlapping areas of the image) in which case the warnings can be ignored. For most other cases, chromatic adaptation should be disabled in one of the instances to avoid double-corrections.</p>
<p>By default, if an instance of the <em>color calibration</em> module is already performing chromatic adaptation, each new instance you create will automatically have its adaptation set to &ldquo;none (bypass)&rdquo; to avoid this &ldquo;double-correction&rdquo; error.</p>
</li>
</ul>
<p>The chromatic adaptation modes in <em>color calibration</em> can be disabled by either setting the <em>adaptation</em> to &ldquo;none (bypass)&rdquo; or setting the <em>illuminant</em> to &ldquo;same as pipeline (D50)&rdquo; in the CAT tab.</p>
<p>These warnings are intended to prevent common and easy mistakes while using the automatic default presets in the module in a typical RAW editing workflow. When using custom presets and some specific workflows, such as editing film scans or JPEGs, these warnings can and should be ignored.</p>
<h1 id="channel-mixing"><a href="#channel-mixing">🔗</a>channel mixing</h1>
<p>The remainder of this module is a standard channel mixer, allowing you to adjust the output R, G, B, colorfulness, brightness and gray of the module based on the relative strengths of the R, G and B input channels.</p>
<p>Channel mixing is performed in the color space defined by the <em>adaptation</em> control on the CAT tab. For all practical purposes, these CAT spaces are particular RGB spaces tied to human physiology and proportional to the light emissions in the scene, but they still behave in the same way as any other RGB space. The use of any of the CAT spaces can make the channel mixer tuning process easier, due to their connection with human physiology, but it is also possible to mix channels in the RGB working space of the pipeline by setting the <em>adaptation</em> to &ldquo;none (bypass)&rdquo;. To perform channel mixing in one of the <em>adaptation</em> color spaces without chromatic adaptation, set the <em>illuminant</em> to &ldquo;same as pipeline (D50)&rdquo;.</p>
<hr>
<p><strong>Note</strong>: The actual colors of the CAT or RGB primaries used for the channel mixing, projected to sRGB display space, are painted in the background of the RGB sliders, so you can get a sense of the color shift that will result from your altered settings.</p>
<hr>
<p>Channel mixing is a process that defines a boosting/muting factor for each channel as a ratio of all the original channels. Instead of entering a single flat correction that ties the output value of a channel to its input value (for example, <code>R_output = R_input × correction</code>), the correction to each channel is dependent on the input of <em>all</em> of the channels for each pixel (for example, <code>R_output = R_input × R_correction + G_input × G_correction + B_input × B_correction</code>). Thus a pixel&rsquo;s channels contribute to each other (a process known as &ldquo;cross-talk&rdquo;) which is equivalent to rotating the primary colors of the color space in 3D. This is, in effect, digital simulation of physical color filters.</p>
<p>Although rotating primary colors in 3D is ultimately equivalent to applying a general hue rotation, the connection between the RGB corrections and the resulting perceptual hue rotation is not directly predictable, which makes the process non-intuitive. &ldquo;R&rdquo;, &ldquo;G&rdquo; and &ldquo;B&rdquo; should be taken as a mixture of 3 lights that we dial up and down, not as a set of colors or hues. Also, since RGB tristimulus does not decouple luminance and chrominance, but is an additive lighting setup, the &ldquo;G&rdquo; channel is more strongly tied to human luminance perception than the &ldquo;R&rdquo; and &ldquo;B&rdquo; ones; All pixels have a non-zero G channel, which implies that any correction to the G channel will likely affect all pixels.</p>
<p>The channel mixing process is therefore tied to a physical interpretation of the RGB tristimulus (as additive lights) that makes it well-suited for primary color grading and illuminant corrections, and blends the color changes smoothly. However, trying to understand and predict it from a perceptual point of view (luminance, hue and saturation) is going to fail and is discouraged.</p>
<hr>
<p><strong>Note</strong>: The &ldquo;R&rdquo;, &ldquo;G&rdquo; and &ldquo;B&rdquo; labels on the channels of the color spaces in this module are merely conventions formed out of habit. These channels do not necessarily look &ldquo;red&rdquo;, &ldquo;green&rdquo; and &ldquo;blue&rdquo;, and users are advised against trying to make sense out of them based on their names. This is a general principle that applies to <em>any</em> RGB space used in any application.</p>
<hr>
<h1 id="r-g-and-b-tabs"><a href="#r-g-and-b-tabs">🔗</a>R, G and B tabs</h1>
<p>At its most basic level, you can think of the R, G and B tabs of the <em>color calibration</em> module as a type of matrix multiplication between a 3x3 matrix and the input [R G B] values. This is in fact very similar to what a matrix-based ICC color profile does, except that the user can input the matrix coefficients via the darktable GUI rather than reading the coefficients from an ICC profile file.</p>
<pre><code>┌ R_out ┐     ┌ Rr Rg Rb ┐     ┌ R_in ┐
│ G_out │  =  │ Gr Gg Gb │  X  │ G_in │
└ B_out ┘     └ Br Bg Bb ┘     └ B_in ┘
</code></pre><p>If, for example, you&rsquo;ve been provided with a matrix to transform from one color space to another, you can enter the matrix coefficients into the <em>channel mixer</em> as follows:</p>
<ul>
<li>select the <em>red</em> tab and then set the Rr, Rg &amp; Rb values using the red, green and blue input sliders</li>
<li>select the <em>green</em> tab and then set the Gr, Gg &amp; Gb values using the red, green and blue input sliders</li>
<li>select the <em>blue</em> tab and then set the Br, Bg &amp; Bb values using the red, green and blue input sliders</li>
</ul>
<p>By default, the mixing function in <em>color calibration</em> just copies the input [R G B] channels straight over to the matching output channels. This is equivalent to multiplying by the identify matrix:</p>
<pre><code>┌ R_out ┐     ┌ 1  0  0 ┐      ┌ R_in ┐
│ G_out │  =  │ 0  1  0 │   X  │ G_in │
└ B_out ┘     └ 0  0  1 ┘      └ B_in ┘
</code></pre><p>To get an intuitive understanding of how the mixing sliders on the red, greeen and blue tabs behave:</p>
<ul>
<li>for the <em>red</em> destination, adjusting sliders to the right will make the R, G or B areas of the image more red. Moving the slider to the left will make those areas more cyan.</li>
<li>for the <em>green</em> destination, adjusting sliders to the right will make the R, G or B areas of the image more green. Moving the slider to the left will make those areas more magenta.</li>
<li>for the <em>blue</em> destination, adjusting sliders to the right will make the R, G or B areas of the image more blue. Moving the slider to the left will make those areas more yellow.</li>
</ul>
<h2 id="r-g-b-tab-controls"><a href="#r-g-b-tab-controls">🔗</a>R, G, B tab controls</h2>
<p>The following controls are shown for each of the R, G and B tabs:</p>
<dl>
<dt>input red/green/blue</dt>
<dd>Choose how much the input R, G and B channels influence the output channel relating to the tab concerned.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to normalize the coefficients to try to preserve the overall brightness of this channel in the final image as compared to the input image.</dd>
</dl>
<h1 id="brightness-and-colorfulness-tabs"><a href="#brightness-and-colorfulness-tabs">🔗</a>brightness and colorfulness tabs</h1>
<p>The brightness and colorfulness (color saturation) of pixels in an image can also be adjusted based on the R, G and B input channels. This uses the same basic algorithm that the <a href="/dtdocs/module-reference/processing-modules/filmic-rgb/"><em>filmic rgb</em></a> module uses for tone mapping (which preserves RGB ratios) and for midtones saturation (which massages them).</p>
<h2 id="colorfulness-tab-controls"><a href="#colorfulness-tab-controls">🔗</a>colorfulness tab controls</h2>
<dl>
<dt>input red/green/blue</dt>
<dd>Adjust the color saturation of pixels, based on the R, G and B channels of those pixels. For example, adjusting the <em>input red</em> slider will affect the color saturation of pixels containing a lot of red more than colors containing only a small amount of red.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to try to keep the overall saturation constant between the input and output images.</dd>
</dl>
<h2 id="brightness-tab-controls"><a href="#brightness-tab-controls">🔗</a>brightness tab controls</h2>
<dl>
<dt>input red/green/blue</dt>
<dd>Adjust the brightness of certain colors in the image, based on the R, G and B channels of those colors. For example, adjusting the <em>input red</em> slider will affect the brightness of colors containing a lot of R channel much more than colors containing only a small amount of R channel. When darkening/brightening a pixel, the ratio of the R, G and B channels for that pixel is maintained, in order to preserve the hue.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to try to keep the overall brightness constant between the input and output images.</dd>
</dl>
<h1 id="gray-tab"><a href="#gray-tab">🔗</a>gray tab</h1>
<p>Another very useful application of <em>color calibration</em> is the ability to mix the channels together to produce a grayscale output &ndash; a monochrome image. Select the <em>gray</em> tab, and set the red, green and blue sliders to control how much each channel contributes to the brightness of the output. This is equivalent to the following matrix multiplication:</p>
<pre><code>GRAY_out  =   [ r  g  b ]  X  ┌ R_in ┐
                              │ G_in │
                              └ B_in ┘
</code></pre><p>When dealing with skin tones, the relative weights of the three channels will affect the level of detail in the image. Placing more weight on red (e.g. [0.9, 0.3, -0.3]) will make for smooth skin tones, whereas emphasising green (e.g. [0.4, 0.75, -0.15]) will bring out more detail. In both cases the blue channel is reduced to avoid emphasising unwanted skin texture.</p>
<h2 id="gray-tab-controls"><a href="#gray-tab-controls">🔗</a>gray tab controls</h2>
<dl>
<dt>input red/green/blue</dt>
<dd>Choose how much each of the R, G and B channels contribute to the gray level of the output. The image will only be converted to monochrome if the three sliders add up to some non-zero value. Adding more blue will tend to bring out more details, adding more red will tend to smooth skin tones.</dd>
<dt>normalize channels</dt>
<dd>Select this checkbox to try to keep the overall brightness constant as the sliders are adjusted.</dd>
</dl>
<h1 id="extracting-settings-using-a-color-checker"><a href="#extracting-settings-using-a-color-checker">🔗</a>extracting settings using a color checker</h1>
<p>Since the channel mixer is essentially an RGB matrix (similar to the <a href="/dtdocs/module-reference/processing-modules/input-color-profile/"><em>input color profile</em></a> used for RAW images) it can be used to improve the color accuracy of the input color profile by computing ad-hoc color calibration settings.</p>
<p>These computed settings aim to minimize the color difference between the scene reference and the camera recording in a given lighting situation. This is equivalent to creating a generic ICC color profile but here, the profile is instead stored as module settings that can be saved as presets or styles, to be shared and re-used between images. Such profiles are meant to complement and refine the generic input profile but do not replace it.</p>
<p>This feature can assist with:</p>
<ul>
<li>handling difficult illuminants, such as low <a href="https://en.wikipedia.org/wiki/Color_rendering_index" target="_blank">CRI</a> light bulbs, for which a mere white balancing will never suffice,</li>
<li>digitizing artworks or commercial products where an accurate rendition of the original colors is required,</li>
<li>neutralizing a number of cameras to the same ground-truth, in multi-camera photo sessions, in order to obtain a consistent base look and share the color editing settings with a consistent final look,</li>
<li>obtaining a sane color pipeline from the start, nailing white balance and removing any bounced-light color cast at once, with minimal effort and time.</li>
</ul>
<h2 id="supported-color-checker-targets"><a href="#supported-color-checker-targets">🔗</a>supported color checker targets</h2>
<p>Users are not currently permitted to use custom targets, but a limited number of verified color checkers (from reputable manufacturers) are provided:</p>
<ul>
<li>X-Rite / Gretag MacBeth Color Checker 24 (pre- and post-2014),</li>
<li>Datacolor SpyderCheckr 24,</li>
<li>Datacolor SpyderCheckr 48.</li>
</ul>
<p>Users are discouraged from obtaining cheap, off-brand, color targets as color constancy between batches cannot possibly be asserted at such prices. Inaccurate color checkers will only defeat the purpose of color calibration and possibly make things worse.</p>
<p>IT7 and IT8 charts are not supported since they are hardly portable and not practical for use on-location for ad-hoc profiles. These charts are better suited for creating generic color profiles, undertaken using a standard illuminant, for example with <a href="https://encrypted.pcode.nl/blog/index.html%3Fp=594.html" target="_blank">Argyll CMS</a>.</p>
<hr>
<p><strong>Note</strong>: X-Rite changed the formula of their pigments in 2014, which slightly altered the color of the patches. Both formulas are supported in darktable, but you should be careful to choose the correct reference for your target. If in doubt, try both and choose the one that yields the lowest average delta E after calibration.</p>
<hr>
<h2 id="prequisites"><a href="#prequisites">🔗</a>prequisites</h2>
<p>In order to use this feature you will need to take a test shot of a supported color checker chart, on-location, under appropriate lighting conditions:</p>
<ul>
<li>frame the chart in the center 50% of the camera&rsquo;s field, to ensure that the image is free of vignetting,</li>
<li>ensure that the main light source is far enough from the chart to give an even lighting field over the surface of the chart,</li>
<li>adjust the angle between the light, chart and lens to prevent reflections and gloss on the color patches,</li>
<li>adjust the camera exposure such that the white patch has a brightness L of 94-96% in CIE Lab space or a luminance Y of 83-88% in CIE XYZ space. To be safe, you are advised to bracket your exposure between -1 and +1 EV in matrix metering mode, and pick the closest exposed picture during post-production.</li>
</ul>
<p>If the lighting conditions are close to a standard D50 to D65 illuminant (direct natural light, no colored bounced light), the color checker shot can be used to produce a generic profile that will be suitable for any daylight illuminant with only a slight adjustment of the white balance.</p>
<p>If the lighting conditions are peculiar and far from standard illuminants, the color checker shot will be only usable as an ad-hoc profile for pictures taken in the same lighting conditions.</p>
<h2 id="usage"><a href="#usage">🔗</a>usage</h2>
<p>The settings used in color calibration depend on the chosen CAT space and on any color settings defined earlier in the pipe within the <em>white balance</em> and <em>input color profile</em> modules. As such, the results of the profiling (e.g. the RGB channel mixing coefficients) are valid only for a rigid set of <em>CAT space</em>, <em>white balance</em> and <em>input color profile</em> settings. If you wish to create a generic style with your profile, don&rsquo;t forget that you will need to include the settings from these modules as well.</p>
<p>Use the following process to create your profile preset/style:</p>
<ol>
<li>Enable the <a href="/dtdocs/module-reference/processing-modules/lens-correction/"><em>lens correction</em></a> module to correct any vignetting that might mislead the calibration,</li>
<li>On the bottom of the <em>color calibration</em> module, click on the arrow near the <em>calibrate with a color checker</em> label, to show the controls,</li>
<li>Pick the correct model and manufacturer in the <em>chart</em> drop-down,</li>
<li>In the image preview, an overlay of the chart&rsquo;s patches will appear. Drag the corners of the chart so that they match the visual references (dots or crosses) around the target, to compensate for any perspective distortion,</li>
<li>Click the <em>refresh</em> button to compute the profile,</li>
<li>Check the <em>Profile quality report</em>. If it is &ldquo;good&rdquo;, you can click on the <em>validation</em> button. If not, try changing the optimization strategy and refresh the profile again.</li>
<li>Save the profile in a preset or style, or simply copy &amp; paste the module settings to all of the pictures taken under the same lighting conditions, from within the lighttable view or filmstrip.</li>
</ol>
<hr>
<p><strong>Note:</strong> You don&rsquo;t <em>need</em> to use the standard matrix in the <em>input color profile</em> module when performing a calibration, but be aware that the &ldquo;as shot in camera&rdquo; default white balance will not work properly with any other profile, and that you will need to always use the same input profile whenever you reuse such calibration settings.</p>
<hr>
<h2 id="reading-the-profile-report"><a href="#reading-the-profile-report">🔗</a>reading the profile report</h2>
<p>The profile report helps you to assess the quality of the calibration. The settings in color calibration are only a &ldquo;best fit&rdquo; optimization and will never be 100% accurate for the whole color spectrum. We therefore need to track &ldquo;how inaccurate&rdquo; it is in order to know whether we can trust this profile or not.</p>
<p>Bad profiles can happen and will do more harm than good if used.</p>
<h3 id="delta-e-and-the-quality-report"><a href="#delta-e-and-the-quality-report">🔗</a>delta E and the quality report</h3>
<p>The <a href="https://en.wikipedia.org/wiki/Color_difference#CIEDE2000" target="_blank">CIE delta E 2000</a> (ΔE) is used as a perceptual metric of the error between the reference color of the patches and the color obtained after each step of calibration:</p>
<ul>
<li>ΔE = 0 means that there is no error &ndash; the obtained color is exactly the reference color. Unfortunately, this will never happen in practice.</li>
<li>ΔE = 2.3 is defined as the Just Noticeable Difference (JND).</li>
<li>ΔE &lt; 2.3 means that the average observer will not be able to tell the difference between the expected reference color and the obtained color. This is a satisfactory result.</li>
<li>ΔE &gt; 2.3 means that the color difference between the expected reference and the obtained color is noticeable for the average observer. This is unsatisfactory but sometimes unavoidable.</li>
</ul>
<p>The quality report tracks the average and maximum ΔE at the input of the module (before anything is done), after the chromatic adaptation step (white balance only), and at the output of the module (white balance and channel mixing). At each step, the ΔE should be lower than at the previous step, if everything goes as planned.</p>
<h3 id="profile-data"><a href="#profile-data">🔗</a>profile data</h3>
<p>This comprises the RGB 3×3 matrix and the detected illuminant. These are expressed in the CAT <em>adaptation</em> space defined in the <em>CAT</em> tab and are provided in case you want to export these coefficients to other software. If the detected illuminant is <em>daylight</em> or <em>black body</em>, the matrix should be fairly generic and re-usable for other <em>daylight</em> and <em>black body</em> illuminants with the addition of a small white balance adjustment.</p>
<h3 id="normalization-values"><a href="#normalization-values">🔗</a>normalization values</h3>
<p>These are the settings that you should define, as-is, for the <em>exposure</em> and <em>black level correction</em> parameters in the <a href="/dtdocs/module-reference/processing-modules/exposure/"><em>exposure</em></a> module, in order to obtain the lowest possible error in your profile. This step is optional and is useful only when the utmost precision is required, but beware that it can produce negative RGB values that will be clipped in various places in the pipeline.</p>
<h3 id="overlay"><a href="#overlay">🔗</a>overlay</h3>
<p>





<a href="/dtdocs/module-reference/processing-modules/color-calibration/color-checker.png"><img src="/dtdocs/module-reference/processing-modules/color-calibration/color-checker.png" alt="color checker"  class="w75"    /></a>

</p>
<p>The chart overlay displays a disc, in the center of each color patch, that represents the expected reference value of that patch, projected into the display RGB space. This helps you to visually assess the difference between the reference and the actual color without having to bother with ΔE values. This visual clue will be reliable only if you set the <em>exposure</em> module as instructed in the <em>normalization values</em> of the profile report.</p>
<p>Once the profile has been calibrated, some square patches will be crossed in the background by one or two diagonals:</p>
<ul>
<li>patches that are not crossed have ΔE &lt; 2.3 (JND), meaning they are accurate enough that the average observer will be unable to notice the deviation,</li>
<li>patches crossed with one diagonal have 2.3 &lt; ΔE &lt; 4.6, meaning that they are mildly inaccurate,</li>
<li>patches crossed with two diagonals have ΔE &gt; 4.6 (2 × JND), meaning that they are highly inaccurate.</li>
</ul>
<p>This visual feedback will help you to set up the optimization trade-off to check which colors are more or less accurate.</p>
<h2 id="enhancing-the-profile"><a href="#enhancing-the-profile">🔗</a>enhancing the profile</h2>
<p>Because any calibration is merely a &ldquo;best fit&rdquo; optimization (using a weighted least-squares method) it is impossible to have all patches within our ΔE &lt; 2.3 tolerance. Therefore, we will need to compromise.</p>
<p>The <em>optimize for</em> parameter allows you to define an optimization strategy that attempts to increase the profile accuracy in some colors at the expense of others. The following options are available:</p>
<ul>
<li><em>none</em>: Don&rsquo;t use an explicit strategy but rely on the implicit stategy defined by the color checker manufacturer. For example, if the color checker has mostly low-saturation patches, the profile will be more accurate for less-saturated colors.</li>
<li><em>neutral colors</em>: Give priority to grays and less-saturated colors. This is useful for desperate cases involving cheap fluorescent and LED lightings, having low CRI. However, it may increase the error in highly-saturated colors more than without any profile.</li>
<li><em>saturated colors</em>: Give priority to primary colors and highly-saturated colors. This is useful in product and commercial photography, to get brand colors right.</li>
<li><em>skin and soil colors</em>, <em>foliage colors</em>, <em>sky and water colors</em>: Give priority to the chosen hue range. This is useful if the subject of your pictures is clearly defined and has a typical color.</li>
<li><em>average delta E</em>: Attempt to make the color error uniform across the color range and minimize the average perceptual error. This is useful for generic profiles.</li>
<li><em>maximum delta E</em>: Attempt to minimize outliers and large errors, at the expense of the average error. This is useful to get saturated blues back into line.</li>
</ul>
<p>No matter what you do, strategies that favor a low average ΔE will usually have a higher maximum ΔE, and vice versa. Also, blues are always the more challenging color range to get correct, so the calibration usually falls back to protecting blues at the expense of everything else, or everything else at the expense of blues.</p>
<p>The ease of obtaining a proper calibration depends on the quality of the scene illuminant (daylight and high CRI should always be favored), the quality of the primary <em>input color profile</em>, the <em>black point compensation</em> set in the <em>exposure</em> module, but first and foremost on the mathematical properties of the camera sensor&rsquo;s filter array.</p>
<h2 id="profile-checking"><a href="#profile-checking">🔗</a>profile checking</h2>
<p>It is possible to use the <em>color space check</em> button (first on the left, at the bottom of the module) to perform a single ΔE computation of the color checker reference against the output of the <em>color calibration</em> module. This can be used in the following ways:</p>
<ol>
<li>To check the accuracy of a profile calculated in particular conditions against a color checker shot in different conditions.</li>
<li>To evaluate the performance of any color correction performed earlier in the pipe, by setting the <em>color calibration</em> parameters to values that effectively disable it (CAT <em>adaptation</em> to <em>none</em>, everything else set to default), and just use the average ΔE as a performance metric.</li>
</ol>
<h1 id="caveats"><a href="#caveats">🔗</a>caveats</h1>
<p>The ability to use standard CIE illuminants and CCT-based interfaces to define the illuminant color depends on sound default values for the standard matrix in the <em>input color profile</em> module as well as reasonable RGB coefficients in the <em>white balance</em> module.</p>
<p>Some cameras, most notably those from Olympus and Sony, have unexpected white balance coefficients that will always make the detected CCT invalid even for legitimate daylight scene illuminants. This error most likely comes from issues with the standard input matrix, which is taken from the Adobe DNG Converter.</p>
<p>It is possible to alleviate this issue, if you have a computer screen calibrated for D65 illuminant, using the following process:</p>
<ol>
<li>Display a white surface on your screen, for example by opening a blank canvas in any photo editing software you like</li>
<li>Take a blurry (out of focus) picture of that surface with your camera, ensuring that you don&rsquo;t have any &ldquo;parasite&rdquo; light in the frame, you have no clipping, and using an aperture between f/5.6 and f/8,</li>
<li>Open the picture in darktable and extract the white balance by using the spot tool in the <em>white balance</em> module on the center area of the image (non-central regions might be subject to chromatic aberrations). This will generate a set of 3 RGB coefficients.</li>
<li><a href="/dtdocs/darkroom/processing-modules/presets/#creating-and-editing-presets">Save a preset</a> for the <em>white balance</em> module with these coefficients and auto-apply it to any color RAW image created by the same camera.</li>
</ol>


    
</article>

<div class="prev-next row">
    <div class="col-6">
    
	<a href="/dtdocs/module-reference/processing-modules/color-balance/" class="next">&lt; color balance</a>
	
    </div>
    <div class="col-6">
    
	<a href="/dtdocs/module-reference/processing-modules/color-contrast/" class="prev">color contrast &gt;</a>
	
    </div>
</div>



      </div>
	    </div>

            

        </div>


    </body>
</html>

<script>
(function($) {
  

  $.fn.scrollToMiddle = function(options) {
    var settings = $.extend({
        duration: 0
    }, options );

    return this.each(function() {
      var $el = $(this);
      var elOffset = $el.offset().top;
      var elHeight = $el.height();
      var windowHeight = $(window).height();
      var offset;
      if (elHeight < windowHeight) {
        offset = elOffset - ((windowHeight / 2) - (elHeight / 2));
      }
      else {
        offset = elOffset;
      }
      $('.navigation').scrollTop(offset);
    });
  };
}(jQuery));

$('.navigation').css('opacity', '0');
 $(document).ready(function(){
     $('.parent ul').hide();
     $('.navigation').css('opacity', 1.0);
     $('.active').parents('ul').show();
     $('.active').siblings('ul').show();
     $('.active').children('i.toggle').removeClass("fa-plus-squre").addClass("fa-minus-square-o");
     $('.active').parents('li').children('.toggle').removeClass("fa-plus-square").addClass("fa-minus-square-o");
     $('.active').scrollToMiddle();

     $('.toggle').on('click', function (e) {
       e.stopPropagation();
       $(this).siblings('ul').slideToggle();

       if($(this).hasClass("fa-plus-square")) {
           $(this).addClass("fa-minus-square-o");
           $(this).removeClass("fa-plus-square");
       }
       else {
           $(this).addClass("fa-plus-square");
           $(this).removeClass("fa-minus-square-o");
       }
     });
 });

</script>

